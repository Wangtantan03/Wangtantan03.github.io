(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{198:function(t,a,s){"use strict";s.r(a);var e=s(0),r=Object(e.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"jmeter自学教程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jmeter自学教程","aria-hidden":"true"}},[t._v("#")]),t._v(" JMeter自学教程")]),t._v(" "),s("h2",{attrs:{id:"jmeter介绍和使用场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jmeter介绍和使用场景","aria-hidden":"true"}},[t._v("#")]),t._v(" JMeter介绍和使用场景")]),t._v(" "),s("h3",{attrs:{id:"压测不同的协议和应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#压测不同的协议和应用","aria-hidden":"true"}},[t._v("#")]),t._v(" 压测不同的协议和应用")]),t._v(" "),s("ul",[s("li",[t._v("Web - HTTP、HTTPS(Java、NodeJs、PHP、ASP.NET、…)")]),t._v(" "),s("li",[t._v("SOAP / REST Webservices")]),t._v(" "),s("li",[t._v("FTP")]),t._v(" "),s("li",[t._v("Database via  JDBC : 通过JDBC访问的数据库")]),t._v(" "),s("li",[t._v("LDAP 轻量目录访问协议")]),t._v(" "),s("li",[t._v("Message-oriented middleware (MOM) via JMS")]),t._v(" "),s("li",[t._v("Mail -SMTP(S)、POP3(S) and IMAP(S)：邮件协议")]),t._v(" "),s("li",[t._v("TCP等等")])]),t._v(" "),s("h3",{attrs:{id:"使用场景及优点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用场景及优点","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用场景及优点")]),t._v(" "),s("ul",[s("li",[t._v("功能测试")]),t._v(" "),s("li",[t._v("压力测试")]),t._v(" "),s("li",[t._v("分布式压力测试")]),t._v(" "),s("li",[t._v("纯java开发")]),t._v(" "),s("li",[t._v("上手容易，高性能")]),t._v(" "),s("li",[t._v("提供测试数据分析")]),t._v(" "),s("li",[t._v("各种报表数据图形展示")])]),t._v(" "),s("h2",{attrs:{id:"jmeter5-x-gui图形界面的安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jmeter5-x-gui图形界面的安装","aria-hidden":"true"}},[t._v("#")]),t._v(" JMeter5.X GUI图形界面的安装")]),t._v(" "),s("h3",{attrs:{id:"jmeter前提条件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jmeter前提条件","aria-hidden":"true"}},[t._v("#")]),t._v(" JMeter前提条件")]),t._v(" "),s("h4",{attrs:{id:"_1-下载安装jdk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载安装jdk","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. 下载安装JDK")]),t._v(" "),s("h5",{attrs:{id:"最新版本：2019年7月"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#最新版本：2019年7月","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("最新版本"),s("OutboundLink")],1),t._v("：2019年7月")]),t._v(" "),s("h5",{attrs:{id:"历史版本：2019年7月"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#历史版本：2019年7月","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://www.oracle.com/technetwork/java/javase/downloads/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("历史版本"),s("OutboundLink")],1),t._v("：2019年7月")]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("选择符合自己电脑的JDK")]),t._v(" "),s("p",[t._v("选择Accept License Agreement，然后选择Mac OS X x64版本JDK (博主使用的是mac笔记本)")])]),t._v(" "),s("p",[t._v("（1）开始下载\n"),s("img",{attrs:{src:"/images/JDK_download.png",alt:""}}),t._v("\n（2）下载完成后，打开并点击继续进行安装\n"),s("img",{attrs:{src:"/images/anzhuang.png",alt:""}}),t._v("\n（3）安装完成后，终端输入：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("java "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("version "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果安装成功，会显示jdk的版本号码")]),t._v("\n")])])]),s("p",[t._v("（4）mac的dmg安装包安装后，环境变量也直接给配置好了")]),t._v(" "),s("h4",{attrs:{id:"_2-下载安装jmeter5-x"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-下载安装jmeter5-x","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. 下载安装JMeter5.X")]),t._v(" "),s("h5",{attrs:{id:"最新版本：2019年7月-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#最新版本：2019年7月-2","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"http://jmeter.apache.org/download_jmeter.cgi",target:"_blank",rel:"noopener noreferrer"}},[t._v("最新版本"),s("OutboundLink")],1),t._v("：2019年7月")]),t._v(" "),s("h5",{attrs:{id:"历史版本：2019年7月-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#历史版本：2019年7月-2","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://archive.apache.org/dist/jmeter/binaries/",target:"_blank",rel:"noopener noreferrer"}},[t._v("历史版本"),s("OutboundLink")],1),t._v("：2019年7月")]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("JMeter不区分版本")]),t._v(" "),s("p",[t._v("直接下载Binaries解压就可以用（也可以选择下载源码，自己编译安装）")])]),t._v(" "),s("p",[t._v("(1)建议将下载压缩包移动到当前用户目录下，方便查找")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("mv "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Users"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("wangtantan"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Downloads"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("apache"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("jmeter"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.1")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tgz "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Users"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("wangtantan\n")])])]),s("p",[t._v("(2) 解压jmeter-5.1.1压缩包")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("tar zxvf apache"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("jmeter"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.1")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tgz\n")])])]),s("p",[t._v("(3) 启动Jmeter")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 进入bin目录")]),t._v("\ncd apache"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("jmeter"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.1")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bin")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 通过sh jmeter启动")]),t._v("\nsh jmeter\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 终端出现一段提示，意思是：不要使用GUI模式进行负载测试，要使用NON GUI模式")]),t._v("\n")])])]),s("p",[t._v("(4) 配置jmeter环境变量，方便启动\n通过vim .bash_profile进入vim编辑器，输入如下内容,并保存")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("export JMETER_HOME"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Users"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("wangtantan"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("apache"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("jmeter"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.1")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# jmeter解压文件所在位置")]),t._v("\nexport PATH"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("$JAVA_HOME"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$PATH"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$JMETER_HOME"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$PATH\nexport CLASSPATH"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$JAVA_HOME"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lib"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$JAVA_HOME"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lib"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("tools"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$JMETER_HOME"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lib"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ext"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ApacheJMeter_core"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$JMETER_HOME"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lib"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("jorphan"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$JMETER_HOME"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lib"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("logkit"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jar\n")])])]),s("p",[t._v("(5) 保存并退出编辑器后，终端输入：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 目的是为了让配置的jmeter环境变量立即生效")]),t._v("\nsource "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bash_profile\n")])])]),s("p",[t._v("(6) 然后在任意目录下，终端输入：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("jmeter\n")])])]),s("p",[t._v("jmeter便会立即启动\n"),s("img",{attrs:{src:"/images/jmeter_qidong.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"_3-jmeter5-x语言版本切换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-jmeter5-x语言版本切换","aria-hidden":"true"}},[t._v("#")]),t._v(" 3. JMeter5.X语言版本切换")]),t._v(" "),s("h4",{attrs:{id:"_1-控制台修改"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-控制台修改","aria-hidden":"true"}},[t._v("#")]),t._v(" (1)控制台修改")]),t._v(" "),s("p",[s("strong",[t._v("menu -> options -> choose language")])]),t._v(" "),s("h4",{attrs:{id:"_2-配置文件修改"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置文件修改","aria-hidden":"true"}},[t._v("#")]),t._v(" (2)配置文件修改")]),t._v(" "),s("p",[s("strong",[t._v("bin -> jmeter.properties")])]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("默认: language=en 改为：language=zh_CN")])])]),t._v(" "),s("h3",{attrs:{id:"jmeter常用目录介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jmeter常用目录介绍","aria-hidden":"true"}},[t._v("#")]),t._v(" JMeter常用目录介绍")]),t._v(" "),s("h4",{attrs:{id:"bin-核心可执行文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bin-核心可执行文件","aria-hidden":"true"}},[t._v("#")]),t._v(" bin: 核心可执行文件")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("jemeter.bat:")]),t._v("  windows启动文件")]),t._v(" "),s("li",[s("strong",[t._v("jemeter:")]),t._v(" mac或Linux启动文件")]),t._v(" "),s("li",[s("strong",[t._v("jemeter-server:")]),t._v(" mac或Linux分布式压测使用的启动文件")]),t._v(" "),s("li",[s("strong",[t._v("jemeter-server.bat:")]),t._v(" windows分布式压测使用的启动文件")])]),t._v(" "),s("h4",{attrs:{id:"extras-插件拓展包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#extras-插件拓展包","aria-hidden":"true"}},[t._v("#")]),t._v(" extras: 插件拓展包")]),t._v(" "),s("h4",{attrs:{id:"lib-核心的依赖包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lib-核心的依赖包","aria-hidden":"true"}},[t._v("#")]),t._v(" lib: 核心的依赖包")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("ext:")]),t._v(" 核心包")]),t._v(" "),s("li",[s("strong",[t._v("junit:")]),t._v(" 单元测试包")])]),t._v(" "),s("h2",{attrs:{id:"jmeter创建api接口压力测试计划"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jmeter创建api接口压力测试计划","aria-hidden":"true"}},[t._v("#")]),t._v(" JMeter创建api接口压力测试计划")]),t._v(" "),s("h3",{attrs:{id:"利用pyhton-flask框架编写简单的接口api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#利用pyhton-flask框架编写简单的接口api","aria-hidden":"true"}},[t._v("#")]),t._v(" 利用pyhton+flask框架编写简单的接口api")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -*- coding:utf-8 -*-")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" flask\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" json\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ----------------定义一个server------------")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# __name__代表当前的python文件，把其当作一个服务启动")]),t._v("\nserver "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" flask"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Flask"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__name__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ----------------定义一个接口函数------------")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Flask中的route()装饰器用于将URL绑定到函数index(),如果用户访问该URL，则函数index()的输出内容将展示在浏览器中")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 第一个参数 '/index' 规则绑定到index()函数,表示可访问的路径；第二个参数代表允许的方法，默认是get")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@server"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("route")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/index'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" methods"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'get'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("index")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    res "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'msg'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'我的第一个接口'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'code'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" json"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dumps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ensure_ascii"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ---------------server执行起来------------")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# host是监听的端口，0.0.0.0表示监听所有网卡，别人可以访问此接口，如果是127.0.0.1，只监听本机")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'__main__'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n     server"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("port"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8888")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" debug"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" host"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'127.0.0.1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"压测接口流程图解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#压测接口流程图解","aria-hidden":"true"}},[t._v("#")]),t._v(" 压测接口流程图解")]),t._v(" "),s("p",[s("strong",[t._v("本地启动接口 --\x3e JMeter创建一个线程组为压测做准备 --\x3e 添加察看结果树，察看发送的请求及请求后的返回值")])]),t._v(" "),s("h4",{attrs:{id:"创建线程组"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建线程组","aria-hidden":"true"}},[t._v("#")]),t._v(" 创建线程组")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/1.png",alt:""}})]),t._v(" "),s("h4",{attrs:{id:"添加http-get请求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加http-get请求","aria-hidden":"true"}},[t._v("#")]),t._v(" 添加http get请求")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/2.png",alt:""}})]),t._v(" "),s("h4",{attrs:{id:"添加察看结果树"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加察看结果树","aria-hidden":"true"}},[t._v("#")]),t._v(" 添加察看结果树")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/3.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"jmeter创建数据库测试计划"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jmeter创建数据库测试计划","aria-hidden":"true"}},[t._v("#")]),t._v(" JMeter创建数据库测试计划")]),t._v(" "),s("blockquote",[s("p",[t._v("将创建五十个用户向数据库服务器发送2个SQL请求。并且，使这些用户运行测试100次。所以，请求的总数:\n（50个用户）x（1个请求）x（重复100次）= 5000个JDBC请求。要构建测试计划，您将使用以下元素： 线程组， JDBC请求，聚合报告。")])]),t._v(" "),s("h4",{attrs:{id:"创建jmeter测试计划"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建jmeter测试计划","aria-hidden":"true"}},[t._v("#")]),t._v(" 创建JMeter测试计划")]),t._v(" "),s("ul",[s("li",[t._v("选择测试计划节点，然后右键单击所选项目")]),t._v(" "),s("li",[t._v("鼠标悬停在“Add”选项上，然后将显示元素列表")]),t._v(" "),s("li",[t._v("选择“线程(用户)” -> “Thread Group”")]),t._v(" "),s("li",[t._v("将此线程组重命名为：JDBC用户组")]),t._v(" "),s("li",[t._v("将线程数（用户数）增加到50")]),t._v(" "),s("li",[t._v("在Ramp-Up Period输入：10")]),t._v(" "),s("li",[t._v("在循环计数字段中输入值100")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/JDBC_users.png",alt:""}})]),t._v(" "),s("h4",{attrs:{id:"添加jdbc请求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加jdbc请求","aria-hidden":"true"}},[t._v("#")]),t._v(" 添加JDBC请求")]),t._v(" "),s("ul",[s("li",[t._v("右键单击JDBC users元素")]),t._v(" "),s("li",[t._v("鼠标悬停在“Add” 选项上，然后将显示元素列表")]),t._v(" "),s("li",[t._v("选择Config Element -> JDBC Connection Configuration")]),t._v(" "),s("li",[t._v("将JDBC Connection Configuration，重命令名为：MySQL Configuration")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/JDBC_add.png",alt:""}})]),t._v(" "),s("p",[t._v("注意：需要设置一些重要的字段，这些字段将决定数据库和JMeter之间的正确连接。 字段设置如下**")]),t._v(" "),s("ul",[s("li",[t._v("绑定到池的变量名称：它唯一地标识配置。 JDBC Sampler将进一步使用此名称来标识要使用的配置。这里我将其命名为MyDatabase")]),t._v(" "),s("li",[t._v("输入数据库URL： jdbc:mysql://localhost:14004/iyanyixxxx（其中localhost:14004是数据库的地址和端口号，iyanyixxx是测试数据库名）")]),t._v(" "),s("li",[t._v("选择JDBC驱动程序： - com.mysql.jdbc.Driver (注：这里事先已将mysql-connector-java-5.1.48.jar放到Jmeter目录中的lib文件下)")]),t._v(" "),s("li",[t._v("用户：数据库登录名")]),t._v(" "),s("li",[t._v("密码：数据库登录密码")]),t._v(" "),s("li",[t._v("其他字段保存不变")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/JDBC_configuration.png",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("右键单击JDBC users元素")]),t._v(" "),s("li",[t._v("鼠标悬停在“Add”选项上，然后将显示元素列表")]),t._v(" "),s("li",[t._v("选择Sampler -> JDBC request")]),t._v(" "),s("li",[t._v("然后设置重要的字段：\n"),s("ol",[s("li",[t._v("名字 - JDBC Request")]),t._v(" "),s("li",[t._v("输入池名称：MyDatabase，与绑定到池的变量名称相同")]),t._v(" "),s("li",[t._v("查询类型 - 选择语句")]),t._v(" "),s("li",[t._v("查询：这里我的使用如下查询语句：SELECT SUM(ViewCount) FROM ot_opera_tour_xxxx")])])])]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/JDBC_request.png",alt:""}})]),t._v(" "),s("h4",{attrs:{id:"创建监听器，并运行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建监听器，并运行","aria-hidden":"true"}},[t._v("#")]),t._v(" 创建监听器，并运行")]),t._v(" "),s("p",[t._v('添加"察看结果树"和"聚合报告"，点击运行，就OK了')]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/JDBC_result.png",alt:""}})])])},[],!1,null,null,null);a.default=r.exports}}]);